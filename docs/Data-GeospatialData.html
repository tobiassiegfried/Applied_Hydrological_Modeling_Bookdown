<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.2 Geospatial Data | Applied Modeling of Hydrological Systems in Central Asia</title>
  <meta name="description" content="This is a open-source course book on Central Asia hydrological systems and hydrological modeling." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5.2 Geospatial Data | Applied Modeling of Hydrological Systems in Central Asia" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a open-source course book on Central Asia hydrological systems and hydrological modeling." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.2 Geospatial Data | Applied Modeling of Hydrological Systems in Central Asia" />
  
  <meta name="twitter:description" content="This is a open-source course book on Central Asia hydrological systems and hydrological modeling." />
  

<meta name="author" content="Tobias Siegfried" />


<meta name="date" content="2021-04-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Data-StationData.html"/>
<link rel="next" href="Data-ClimateReanalysisData.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Applied Hydrological Modeling</a></li>

<li class="divider"></li>
<li><a href="index.html#Welcome"></a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i>Foreword</a></li>
<li class="chapter" data-level="" data-path="study-guide.html"><a href="study-guide.html"><i class="fa fa-check"></i>Study guide</a>
<ul>
<li class="chapter" data-level="" data-path="day-1-introduction-and-installation-of-software.html"><a href="day-1-introduction-and-installation-of-software.html"><i class="fa fa-check"></i>Day 1: Introduction and installation of software</a></li>
<li class="chapter" data-level="" data-path="day-2-catchment-characterization.html"><a href="day-2-catchment-characterization.html"><i class="fa fa-check"></i>Day 2: Catchment characterization</a></li>
<li class="chapter" data-level="" data-path="day-3.html"><a href="day-3.html"><i class="fa fa-check"></i>Day 3:</a></li>
</ul></li>
<li class="part"><span><b>I Part I Hydrological Systems</b></span></li>
<li class="chapter" data-level="1" data-path="ShortHistory.html"><a href="ShortHistory.html"><i class="fa fa-check"></i><b>1</b> Short History of Water in Central Asia</a>
<ul>
<li class="chapter" data-level="1.1" data-path="TamingHydrologicalSystems.html"><a href="TamingHydrologicalSystems.html"><i class="fa fa-check"></i><b>1.1</b> The Taming of the Central Asian Rivers</a></li>
<li class="chapter" data-level="1.2" data-path="PostTransitionDevelopmentsChallenges.html"><a href="PostTransitionDevelopmentsChallenges.html"><i class="fa fa-check"></i><b>1.2</b> Post-Transition Development and Challenges</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="HydrologicalSystems.html"><a href="HydrologicalSystems.html"><i class="fa fa-check"></i><b>2</b> Hydrological Systems in Central Asia</a>
<ul>
<li class="chapter" data-level="2.1" data-path="regional-hydro-climatological-features.html"><a href="regional-hydro-climatological-features.html"><i class="fa fa-check"></i><b>2.1</b> Regional Hydro-Climatological Features</a></li>
<li class="chapter" data-level="2.2" data-path="chap-regionalWaterBalance.html"><a href="chap-regionalWaterBalance.html"><i class="fa fa-check"></i><b>2.2</b> Regional Water Balance</a></li>
<li class="chapter" data-level="2.3" data-path="runoff-formation.html"><a href="runoff-formation.html"><i class="fa fa-check"></i><b>2.3</b> Runoff Formation</a></li>
<li class="chapter" data-level="2.4" data-path="average-multi-year-runoff.html"><a href="average-multi-year-runoff.html"><i class="fa fa-check"></i><b>2.4</b> Average Multi-Year Runoff</a></li>
<li class="chapter" data-level="2.5" data-path="annual-runoff-fluctuations.html"><a href="annual-runoff-fluctuations.html"><i class="fa fa-check"></i><b>2.5</b> Annual Runoff Fluctuations</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="CaseStudies.html"><a href="CaseStudies.html"><i class="fa fa-check"></i><b>3</b> Case Studies</a>
<ul>
<li class="chapter" data-level="3.1" data-path="GuntRB.html"><a href="GuntRB.html"><i class="fa fa-check"></i><b>3.1</b> Gunt River Basin</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="GuntRB.html"><a href="GuntRB.html#GuntRBOverview"><i class="fa fa-check"></i><b>3.1.1</b> Basin Characterization</a></li>
<li class="chapter" data-level="3.1.2" data-path="GuntRB.html"><a href="GuntRB.html#GuntHyrology"><i class="fa fa-check"></i><b>3.1.2</b> Hydrology</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="CRB.html"><a href="CRB.html"><i class="fa fa-check"></i><b>3.2</b> Chirchik River Basin</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="CRB.html"><a href="CRB.html#CRBOverview"><i class="fa fa-check"></i><b>3.2.1</b> Basin Characterization</a></li>
<li class="chapter" data-level="3.2.2" data-path="CRB.html"><a href="CRB.html#CRBBasinCharacteristics"><i class="fa fa-check"></i><b>3.2.2</b> Hydrology</a></li>
<li class="chapter" data-level="3.2.3" data-path="CRB.html"><a href="CRB.html#CRB_KoskuDischargeContribution"><i class="fa fa-check"></i><b>3.2.3</b> Discharge Estimation from the Ungauged Kosku Tributary</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Part II Applied Modeling</b></span></li>
<li class="chapter" data-level="4" data-path="LongTermWaterBalance.html"><a href="LongTermWaterBalance.html"><i class="fa fa-check"></i><b>4</b> Budyko-Type Long-term Water Balance Modeling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="derivation-of-the-budyko-relationship.html"><a href="derivation-of-the-budyko-relationship.html"><i class="fa fa-check"></i><b>4.1</b> Derivation of the Budyko Relationship</a></li>
<li class="chapter" data-level="4.2" data-path="effects-of-snow-ratio-on-annual-runoff-within-the-budyko-framework.html"><a href="effects-of-snow-ratio-on-annual-runoff-within-the-budyko-framework.html"><i class="fa fa-check"></i><b>4.2</b> Effects of Snow Ratio on Annual Runoff within the Budyko Framework</a></li>
<li class="chapter" data-level="4.3" data-path="hydrological-response-to-a-changing-climate.html"><a href="hydrological-response-to-a-changing-climate.html"><i class="fa fa-check"></i><b>4.3</b> Hydrological Response to a Changing Climate</a></li>
<li class="chapter" data-level="4.4" data-path="application-to-central-asian-river-basins.html"><a href="application-to-central-asian-river-basins.html"><i class="fa fa-check"></i><b>4.4</b> Application to Central Asian River Basins</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="application-to-central-asian-river-basins.html"><a href="application-to-central-asian-river-basins.html#data"><i class="fa fa-check"></i><b>4.4.1</b> Data</a></li>
<li class="chapter" data-level="4.4.2" data-path="application-to-central-asian-river-basins.html"><a href="application-to-central-asian-river-basins.html#model"><i class="fa fa-check"></i><b>4.4.2</b> Model</a></li>
<li class="chapter" data-level="4.4.3" data-path="application-to-central-asian-river-basins.html"><a href="application-to-central-asian-river-basins.html#conclusions"><i class="fa fa-check"></i><b>4.4.3</b> Conclusions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Chapter-DATA.html"><a href="Chapter-DATA.html"><i class="fa fa-check"></i><b>5</b> Data Retrieval, Preparation &amp; Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="Data-StationData.html"><a href="Data-StationData.html"><i class="fa fa-check"></i><b>5.1</b> Station Data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="Data-StationData.html"><a href="Data-StationData.html#AvailableData"><i class="fa fa-check"></i><b>5.1.1</b> Available Data</a></li>
<li class="chapter" data-level="5.1.2" data-path="Data-StationData.html"><a href="Data-StationData.html#StationData::GapFilling"><i class="fa fa-check"></i><b>5.1.2</b> Gap Filling Discharge Data</a></li>
<li class="chapter" data-level="5.1.3" data-path="Data-StationData.html"><a href="Data-StationData.html#DataPreparationPT"><i class="fa fa-check"></i><b>5.1.3</b> Gap Filling Meteorological Data</a></li>
<li class="chapter" data-level="5.1.4" data-path="Data-StationData.html"><a href="Data-StationData.html#AnomaliesOutliers"><i class="fa fa-check"></i><b>5.1.4</b> Anomalies and Outliers</a></li>
<li class="chapter" data-level="5.1.5" data-path="Data-StationData.html"><a href="Data-StationData.html#FinalData"><i class="fa fa-check"></i><b>5.1.5</b> Putting it all together</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="Data-GeospatialData.html"><a href="Data-GeospatialData.html"><i class="fa fa-check"></i><b>5.2</b> Geospatial Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="Data-GeospatialData.html"><a href="Data-GeospatialData.html#section-steps-setting-up"><i class="fa fa-check"></i><b>5.2.1</b> Setting up QGIS</a></li>
<li class="chapter" data-level="5.2.2" data-path="Data-GeospatialData.html"><a href="Data-GeospatialData.html#load-dem"><i class="fa fa-check"></i><b>5.2.2</b> Load DEM</a></li>
<li class="chapter" data-level="5.2.3" data-path="Data-GeospatialData.html"><a href="Data-GeospatialData.html#section-steps-derive-catchment-boundaries"><i class="fa fa-check"></i><b>5.2.3</b> Derive the boundaries of your catchment</a></li>
<li class="chapter" data-level="5.2.4" data-path="Data-GeospatialData.html"><a href="Data-GeospatialData.html#run-through-the-process-model"><i class="fa fa-check"></i><b>5.2.4</b> Run through the process model</a></li>
<li class="chapter" data-level="5.2.5" data-path="Data-GeospatialData.html"><a href="Data-GeospatialData.html#manually-edit-the-gis-layers-for-import-in-rs-minerve"><i class="fa fa-check"></i><b>5.2.5</b> Manually edit the GIS Layers for import in RS MINERVE</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="Data-ClimateReanalysisData.html"><a href="Data-ClimateReanalysisData.html"><i class="fa fa-check"></i><b>5.3</b> Climate Reanalysis Data</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="Data-ClimateReanalysisData.html"><a href="Data-ClimateReanalysisData.html#Data::CHELSA"><i class="fa fa-check"></i><b>5.3.1</b> CHELSA V1.2.1 Data and Bias Correction</a></li>
<li class="chapter" data-level="5.3.2" data-path="Data-ClimateReanalysisData.html"><a href="Data-ClimateReanalysisData.html#Data::ERA5"><i class="fa fa-check"></i><b>5.3.2</b> ERA5 Download and Data Resampling with PBCORR CHELSA</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-on-climate-projections.html"><a href="data-on-climate-projections.html"><i class="fa fa-check"></i><b>5.4</b> Data on Climate Projections</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-on-climate-projections.html"><a href="data-on-climate-projections.html#CHELSA21Century"><i class="fa fa-check"></i><b>5.4.1</b> High Res. Monthly Climate Time Series for 2006 - 2100</a></li>
<li class="chapter" data-level="5.4.2" data-path="data-on-climate-projections.html"><a href="data-on-climate-projections.html#using-a-weather-generator-to-simulate-daily-future-climate"><i class="fa fa-check"></i><b>5.4.2</b> Using a Weather Generator to Simulate Daily Future Climate</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="section-data-snow-cover.html"><a href="section-data-snow-cover.html"><i class="fa fa-check"></i><b>5.5</b> Snow Cover Data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="RSMinerveMODELS.html"><a href="RSMinerveMODELS.html"><i class="fa fa-check"></i><b>6</b> Hydrological-Hydraulic Modeling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="section-rsminerve-prerequisites.html"><a href="section-rsminerve-prerequisites.html"><i class="fa fa-check"></i><b>6.1</b> Prerequisites</a></li>
<li class="chapter" data-level="6.2" data-path="section-rsminerve-why-model-introduction.html"><a href="section-rsminerve-why-model-introduction.html"><i class="fa fa-check"></i><b>6.2</b> Recap: Hydrological response</a></li>
<li class="chapter" data-level="6.3" data-path="recap-the-general-modeling-process.html"><a href="recap-the-general-modeling-process.html"><i class="fa fa-check"></i><b>6.3</b> Recap: The general modeling process</a></li>
<li class="chapter" data-level="6.4" data-path="data-preparation-and-setup.html"><a href="data-preparation-and-setup.html"><i class="fa fa-check"></i><b>6.4</b> Data Preparation and Setup</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-preparation-and-setup.html"><a href="data-preparation-and-setup.html#examining-and-understanding-the-gis-data"><i class="fa fa-check"></i><b>6.4.1</b> Examining and Understanding the GIS Data</a></li>
<li class="chapter" data-level="6.4.2" data-path="data-preparation-and-setup.html"><a href="data-preparation-and-setup.html#loading-gis-data-and-model-creation"><i class="fa fa-check"></i><b>6.4.2</b> Loading GIS Data and Model Creation</a></li>
<li class="chapter" data-level="6.4.3" data-path="data-preparation-and-setup.html"><a href="data-preparation-and-setup.html#climate-data"><i class="fa fa-check"></i><b>6.4.3</b> Climate Data</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="section-hbv-model.html"><a href="section-hbv-model.html"><i class="fa fa-check"></i><b>6.5</b> The HBV model</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="section-hbv-model.html"><a href="section-hbv-model.html#section-hbv-nauvalisoy-tutorial-short"><i class="fa fa-check"></i><b>6.5.1</b> HBV example: Simple model of the Nauvalisoy river catchment</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="model-calibration-and-validation.html"><a href="model-calibration-and-validation.html"><i class="fa fa-check"></i><b>6.6</b> Model Calibration and Validation</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="model-calibration-and-validation.html"><a href="model-calibration-and-validation.html#section-calibration-principles"><i class="fa fa-check"></i><b>6.6.1</b> Basic Principles</a></li>
<li class="chapter" data-level="6.6.2" data-path="model-calibration-and-validation.html"><a href="model-calibration-and-validation.html#secion-calibration-practical-steps"><i class="fa fa-check"></i><b>6.6.2</b> Practical Steps</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="application-investigating-climate-change-impacts.html"><a href="application-investigating-climate-change-impacts.html"><i class="fa fa-check"></i><b>6.7</b> Application: Investigating Climate Change Impacts</a></li>
<li class="chapter" data-level="6.8" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>6.8</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="HydroModelsEmpiricalModels.html"><a href="HydroModelsEmpiricalModels.html"><i class="fa fa-check"></i><b>7</b> Discharge Forecasting with Predictive Inference</a>
<ul>
<li class="chapter" data-level="" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="Chap9PredictiveInference.html"><a href="Chap9PredictiveInference.html"><i class="fa fa-check"></i><b>7.1</b> Forecasting Using Predictive Inference</a></li>
<li class="chapter" data-level="7.2" data-path="forecasting-in-the-central-asian-hydromets.html"><a href="forecasting-in-the-central-asian-hydromets.html"><i class="fa fa-check"></i><b>7.2</b> Forecasting in the Central Asian Hydromets</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="forecasting-in-the-central-asian-hydromets.html"><a href="forecasting-in-the-central-asian-hydromets.html#background"><i class="fa fa-check"></i><b>7.2.1</b> Background</a></li>
<li class="chapter" data-level="7.2.2" data-path="forecasting-in-the-central-asian-hydromets.html"><a href="forecasting-in-the-central-asian-hydromets.html#forecasting-for-what-and-whom"><i class="fa fa-check"></i><b>7.2.2</b> Forecasting for What and Whom?</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="Chap9DataPreparation.html"><a href="Chap9DataPreparation.html"><i class="fa fa-check"></i><b>7.3</b> Data and Preparation</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Chap9DataPreparation.html"><a href="Chap9DataPreparation.html#Chap9AvailableData"><i class="fa fa-check"></i><b>7.3.1</b> Available Data</a></li>
<li class="chapter" data-level="7.3.2" data-path="Chap9DataPreparation.html"><a href="Chap9DataPreparation.html#Chap9DataPreparationQ"><i class="fa fa-check"></i><b>7.3.2</b> Gap Filling Discharge Data</a></li>
<li class="chapter" data-level="7.3.3" data-path="Chap9DataPreparation.html"><a href="Chap9DataPreparation.html#Chap9DataPreparationPT"><i class="fa fa-check"></i><b>7.3.3</b> Gap Filling Meteorological Data</a></li>
<li class="chapter" data-level="7.3.4" data-path="Chap9DataPreparation.html"><a href="Chap9DataPreparation.html#Chap9AnomaliesOutliers"><i class="fa fa-check"></i><b>7.3.4</b> Anomalies and Outliers</a></li>
<li class="chapter" data-level="7.3.5" data-path="Chap9DataPreparation.html"><a href="Chap9DataPreparation.html#Chap9_FinalData"><i class="fa fa-check"></i><b>7.3.5</b> Putting it all together</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="Chap9-DataAnalysis.html"><a href="Chap9-DataAnalysis.html"><i class="fa fa-check"></i><b>7.4</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="Chap9-DataAnalysis.html"><a href="Chap9-DataAnalysis.html#Chap_9_DataTransformation"><i class="fa fa-check"></i><b>7.4.1</b> Data Transformation</a></li>
<li class="chapter" data-level="7.4.2" data-path="Chap9-DataAnalysis.html"><a href="Chap9-DataAnalysis.html#Chap9_Trends"><i class="fa fa-check"></i><b>7.4.2</b> Detecting Trends</a></li>
<li class="chapter" data-level="7.4.3" data-path="Chap9-DataAnalysis.html"><a href="Chap9-DataAnalysis.html#Chap9_Autocorrelations"><i class="fa fa-check"></i><b>7.4.3</b> Auto- and Crosscorrelations</a></li>
<li class="chapter" data-level="7.4.4" data-path="Chap9-DataAnalysis.html"><a href="Chap9-DataAnalysis.html#Chap9_SeasonalityAnalysis"><i class="fa fa-check"></i><b>7.4.4</b> Time Series Seasonality</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="Chap9FeatureEngineering.html"><a href="Chap9FeatureEngineering.html"><i class="fa fa-check"></i><b>7.5</b> Investigating and Engineering Predictors</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="Chap9FeatureEngineering.html"><a href="Chap9FeatureEngineering.html#Chap9_CurrentPractice"><i class="fa fa-check"></i><b>7.5.1</b> Benchmark: Current Operational Forecasting Models in the Hydrometeorological Agencies</a></li>
<li class="chapter" data-level="7.5.2" data-path="Chap9FeatureEngineering.html"><a href="Chap9FeatureEngineering.html#Chap9_TSR"><i class="fa fa-check"></i><b>7.5.2</b> Time Series Regression Models</a></li>
<li class="chapter" data-level="7.5.3" data-path="Chap9FeatureEngineering.html"><a href="Chap9FeatureEngineering.html#Chap9_ForecastQuality"><i class="fa fa-check"></i><b>7.5.3</b> Assessing the Quality of Forecasts</a></li>
<li class="chapter" data-level="7.5.4" data-path="Chap9FeatureEngineering.html"><a href="Chap9FeatureEngineering.html#generating-and-assessing-out-of-sample-forecasts"><i class="fa fa-check"></i><b>7.5.4</b> Generating and Assessing Out-of-Sample Forecasts</a></li>
<li class="chapter" data-level="7.5.5" data-path="Chap9FeatureEngineering.html"><a href="Chap9FeatureEngineering.html#Chap9_MLM"><i class="fa fa-check"></i><b>7.5.5</b> Machine Learning Models</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="save-data-for-hot-start.html"><a href="save-data-for-hot-start.html"><i class="fa fa-check"></i><b>7.6</b> Save Data for Hot Start</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Operationalization.html"><a href="Operationalization.html"><i class="fa fa-check"></i><b>8</b> Operationalization of Models - Opportunities and Challenges</a>
<ul>
<li class="chapter" data-level="8.1" data-path="co-design-phase.html"><a href="co-design-phase.html"><i class="fa fa-check"></i><b>8.1</b> Co-design Phase</a></li>
<li class="chapter" data-level="8.2" data-path="modeling-phase.html"><a href="modeling-phase.html"><i class="fa fa-check"></i><b>8.2</b> Modeling Phase</a></li>
<li class="chapter" data-level="8.3" data-path="testing-phase.html"><a href="testing-phase.html"><i class="fa fa-check"></i><b>8.3</b> Testing Phase</a></li>
<li class="chapter" data-level="8.4" data-path="operational-deployment.html"><a href="operational-deployment.html"><i class="fa fa-check"></i><b>8.4</b> Operational Deployment</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ChapterAppendix.html"><a href="ChapterAppendix.html"><i class="fa fa-check"></i><b>9</b> (APPENDIX) Appendix</a>
<ul>
<li class="chapter" data-level="9.1" data-path="section-appendix-open-source-resources.html"><a href="section-appendix-open-source-resources.html"><i class="fa fa-check"></i><b>9.1</b> Appendix A: Open-source resources</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="section-appendix-open-source-resources.html"><a href="section-appendix-open-source-resources.html#literature"><i class="fa fa-check"></i><b>9.1.1</b> Literature</a></li>
<li class="chapter" data-level="9.1.2" data-path="section-appendix-open-source-resources.html"><a href="section-appendix-open-source-resources.html#section-open-resrouces-software-QGIS"><i class="fa fa-check"></i><b>9.1.2</b> QGIS</a></li>
<li class="chapter" data-level="9.1.3" data-path="section-appendix-open-source-resources.html"><a href="section-appendix-open-source-resources.html#section-open-resrouces-software-R"><i class="fa fa-check"></i><b>9.1.3</b> R and RStudio</a></li>
<li class="chapter" data-level="9.1.4" data-path="section-appendix-open-source-resources.html"><a href="section-appendix-open-source-resources.html#section-open-resrouces-software-RSMinerve"><i class="fa fa-check"></i><b>9.1.4</b> RS Minerve</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html"><i class="fa fa-check"></i><b>9.2</b> Appendix B: Quick Guides</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#qgis"><i class="fa fa-check"></i><b>9.2.1</b> QGIS:</a></li>
<li class="chapter" data-level="9.2.2" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#section-quickguides-create-hbv-model"><i class="fa fa-check"></i><b>9.2.2</b> RSM: Create HBV model and edit parameters</a></li>
<li class="chapter" data-level="9.2.3" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#section-quickguides-add-climate-station"><i class="fa fa-check"></i><b>9.2.3</b> RSM: Add and link climate station</a></li>
<li class="chapter" data-level="9.2.4" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#section-quickguides-import-climate-data"><i class="fa fa-check"></i><b>9.2.4</b> RSM: Import climate data</a></li>
<li class="chapter" data-level="9.2.5" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#section-quickguides-atapt-model-settings"><i class="fa fa-check"></i><b>9.2.5</b> RSM: Adapt model settings</a></li>
<li class="chapter" data-level="9.2.6" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#section-export-sim-results-to-db"><i class="fa fa-check"></i><b>9.2.6</b> RSM: Export simulation results to data base</a></li>
<li class="chapter" data-level="9.2.7" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#section-quickguides-add-comparator-and-discharge-data"><i class="fa fa-check"></i><b>9.2.7</b> RSM: Add comparator and load discharge measurements</a></li>
<li class="chapter" data-level="9.2.8" data-path="appendix-b-quick-guides.html"><a href="appendix-b-quick-guides.html#section-quickguides-copy-paste-database-values"><i class="fa fa-check"></i><b>9.2.8</b> RSM: Copy-paste data to database</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="appendix-c-processing-climate-data.html"><a href="appendix-c-processing-climate-data.html"><i class="fa fa-check"></i><b>9.3</b> Appendix C: Processing Climate Data</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="appendix-c-processing-climate-data.html"><a href="appendix-c-processing-climate-data.html#cutting-chelsa-v.1.2.1-to-ca-domain"><i class="fa fa-check"></i><b>9.3.1</b> Cutting CHELSA v.1.2.1 to CA Domain</a></li>
<li class="chapter" data-level="9.3.2" data-path="appendix-c-processing-climate-data.html"><a href="appendix-c-processing-climate-data.html#bias-correcting-chelsa-v1.2.1-precipitation-data-for-snow-undercatch"><i class="fa fa-check"></i><b>9.3.2</b> Bias Correcting CHELSA v1.2.1 Precipitation Data for Snow Undercatch</a></li>
<li class="chapter" data-level="9.3.3" data-path="appendix-c-processing-climate-data.html"><a href="appendix-c-processing-climate-data.html#computing-mean-monthly-temperature-climatology-from-chelsa-v1.2.1-data"><i class="fa fa-check"></i><b>9.3.3</b> Computing Mean Monthly Temperature Climatology from CHELSA v1.2.1 data</a></li>
<li class="chapter" data-level="9.3.4" data-path="appendix-c-processing-climate-data.html"><a href="appendix-c-processing-climate-data.html#era5"><i class="fa fa-check"></i><b>9.3.4</b> ERA5</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="sectin-appendix-solutions.html"><a href="sectin-appendix-solutions.html"><i class="fa fa-check"></i><b>9.4</b> Appendix D: Solutions to exercises</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="sectin-appendix-solutions.html"><a href="sectin-appendix-solutions.html#section-appendix-solutions-exercise1"><i class="fa fa-check"></i><b>9.4.1</b> Exercise on Linear Reservoir modelling</a></li>
<li class="chapter" data-level="9.4.2" data-path="sectin-appendix-solutions.html"><a href="sectin-appendix-solutions.html#section-appendix-solutions-hbv-exercises"><i class="fa fa-check"></i><b>9.4.2</b> Exercises on the HBV model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="References.html"><a href="References.html"><i class="fa fa-check"></i><b>10</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied Modeling of Hydrological Systems in Central Asia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Data::GeospatialData" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Geospatial Data</h2>
<p>This Section follows the steps shown in Figure <a href="#fig:ClimateImpactModelChain"><strong>??</strong></a> and explains in a hands-on manner how to arrive at and process the required geospatial data for later inclusion in the hydrological-hydraulic model RS MINVERVE. Links to detailed descriptions of the individual tasks allow even beginners of QGIS to follow the procedure.</p>
<div id="section-steps-setting-up" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Setting up QGIS</h3>
<p>Open and save a new QGIS project (<a href="#section-saving-a-new-qgis-project">How to for absolute beginners</a>). Make sure that the maps projection is in UTM (<a href="#section-change-project-projection-qgis">How to change the projection of a project</a>). The needed plugins are: qProf or profile tool (<a href="#section-install-and-activate-plugins-in-QGIS3">How to install and activate a plugin</a>). The optional plugins are: SRTM plugin (requires a login to USGS Earth Explorer <a href="#section-register-with-earth-explorer">How to register</a>). Note, SAGA routines must be installed and correctly configured in QGIS (which is typically the case for default installations of long-term support versions of QGIS).</p>
</div>
<div id="load-dem" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Load DEM</h3>
<p>We use the SRTM 1 arc-second global DEM (<a href="https://www.usgs.gov/centers/eros/science/usgs-eros-archive-digital-elevation-shuttle-radar-topography-mission-srtm-1-arc?qt-science_center_objects=0#qt-science_center_objects">Data description</a>). The DEM tiles are downloaded directly in QGIS3 (SRTM plugin, <a href="#section-srtm-plugin">How to</a>) or via the USGS Earth Explorer (<a href="#section-earth-explorer-download-srtm">How to</a>) and merged to a single GIS layer (<a href="#section-merge-srtm-tiles">How to</a>). In any case you will need to register for an Earth Explorer account <a href="#section-register-with-earth-explorer">How to register</a>.<br />
Typically, geospatial data from open sources is stored in the standard projection WGS84 (EPSG:4326). The WGS84</p>
</div>
<div id="section-steps-derive-catchment-boundaries" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Derive the boundaries of your catchment</h3>
<p>If you already have a shapefile for the boundaries of your catchment. Load it into QGIS <a href="#section-add-vector-layer-to-qgis">How to add a vector layer</a>. Otherwise, follow this <a href="https://www.youtube.com/watch?v=xwiHQlmEEjw">tutorial on youtube</a> to derive the boundaries of your catchment.</p>
</div>
<div id="run-through-the-process-model" class="section level3" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> Run through the process model</h3>
<p>A process model is available that generates the raw GIS layers for RS Minerve. Navigate to <em>Processing</em> and open the <em>Graphical Modeller…</em>. The <em>Model Designer</em> window opens. Open the model <a href="">Link to Model</a> (<a href="Data-GeospatialData.html#fig:qgis-graphical-model-designer">5.9</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-graphical-model-designer"></span>
<img src="_bookdown_files/FIG_DATA/fig500_GraphicalModelDesigner.png" alt="The process of deriving the GIS layers for RS Minerve is simplified through the process model." width="100%" />
<p class="caption">
Figure 5.9: The process of deriving the GIS layers for RS Minerve is simplified through the process model.
</p>
</div>
<p>*TODO: Make file available for download.</p>
<p>Prior to running the model, read through the following brief notes.</p>
<div id="input-files" class="section level4" number="5.2.4.1">
<h4><span class="header-section-number">5.2.4.1</span> Input files</h4>
<ul>
<li>A shape file of the basin outline in UTM 42 N (<a href="Data-GeospatialData.html#section-steps-derive-catchment-boundaries">How to derive the basin outline</a>).</li>
<li>The extent of the DEM needs to be larger than the boundaries of your catchment. You can use your raw SRTM DEM projected to UTM42N.</li>
</ul>
</div>
<div id="model-output" class="section level4" number="5.2.4.2">
<h4><span class="header-section-number">5.2.4.2</span> Model output</h4>
<p>Besides the 3 layers required (Basins, rivers, junctions, <a href="#fig:layers-minerve"><strong>??</strong></a> in the Introduction), the model produces a number of additional output files which can be used for verifying the parameterisation which is described in more detail in the next section.</p>
</div>
<div id="parameterization-of-the-model" class="section level4" number="5.2.4.3">
<h4><span class="header-section-number">5.2.4.3</span> Parameterization of the model</h4>
<ul>
<li>BasinShapeBuffer_meters is a buffer around the basin outline to which the DEM is cut. The DEM needs to be slightly larger than the shape line. The default value of 1000 m is sufficient. <em>Can this parameter be internalised?</em><br />
</li>
<li>River Network Level is a parameters for the resolution of the river network. Values of 7 and 8 have shown good results for smaller and medium sized catchments (<a href="Data-GeospatialData.html#fig:qgis-river-network-level">5.10</a>).<br />
</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:qgis-river-network-level"></span>
<img src="_bookdown_files/FIG_DATA/fig501_RiverNetworkLevel7.png" alt="Comparison of River Network Level = 7 (left) and River Network Level = 8 (rigth) for the example of the Pskem river catchment." width="50%" /><img src="_bookdown_files/FIG_DATA/fig502_RiverNetworkLevel8.png" alt="Comparison of River Network Level = 7 (left) and River Network Level = 8 (rigth) for the example of the Pskem river catchment." width="50%" />
<p class="caption">
Figure 5.10: Comparison of River Network Level = 7 (left) and River Network Level = 8 (rigth) for the example of the Pskem river catchment.
</p>
</div>
<ul>
<li>The Channel Network Cutoff Value is a parameter required for the partitioning of the catchment into sub-catchments. Values between 2e8 and 5e8 have been found to work well for smaller and medium sized catchments. The model is sensitive to this parameter and might throw an error if the cutoff value is not appropriate.</li>
<li>The Elevation Bands Table holds the altitude boundaries and class IDs for the elevation bands in the catchment. After a first test run, edit according to your needs.</li>
</ul>
<p>The model is sensitive to these parameters. Play around with them until you are satisfied with the resulting GIS layers.</p>
<p>If you get an error message running Fix geometries that POLYGONS.shp was not found, try reducing the Channel Network Cutoff Value by 50-70%. You can still inspect the other layers and change other parameters as well.<br />
- Make sure that all input layers are projected to UTM 42 N.<br />
- Run the model through once, inspect the output and play with the input parameters:<br />
- Min and Max elevations on the smoothed DEM and the shape, number and spacing of elevation bands (edit the table for the elevation bands accordingly),<br />
- Location and shape of river reaches and the location of junctions (vary the threshold).</p>
</div>
</div>
<div id="manually-edit-the-gis-layers-for-import-in-rs-minerve" class="section level3" number="5.2.5">
<h3><span class="header-section-number">5.2.5</span> Manually edit the GIS Layers for import in RS MINERVE</h3>
<ul>
<li>Review <a href="#fig:layers-minerve"><strong>??</strong></a></li>
<li>Elevation bands per sub-basin need to be in one Multi-Polygon layer.</li>
</ul>
<p>We need junctions only at the confluences of sub-basins (and river reaches).</p>
<p>We only need river reaches where we need to do routing. The sub-basins at the upper-most reaches do not need river reaches.</p>
<div id="edit-junctions-layer" class="section level4" number="5.2.5.1">
<h4><span class="header-section-number">5.2.5.1</span> Edit Junctions layer</h4>
<p>Select the Junctions layer and toggle manual editing by clicking on the yellow pen (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-1">5.11</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-1"></span>
<img src="_bookdown_files/FIG_DATA/fig026_ManualEditJunctions1.png" alt="Manually edit the layer with the river junctions, step 1: Toggle layer editing." width="50%" />
<p class="caption">
Figure 5.11: Manually edit the layer with the river junctions, step 1: Toggle layer editing.
</p>
</div>
<p>When in editing mode, the yellow pen will appear in the <em>Layers</em> window next to the name of the layer being edited. The edit mode will also activate a button for adding points (i.e. junctions, we don’t need that now) and the vertex tool. Click on the vertex tool icon. It is active when a a boundary appears around the icon and the Vertex Editor windows opens (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-2">5.12</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-2"></span>
<img src="_bookdown_files/FIG_DATA/fig027_ManualEditJunctions2.png" alt="Manually edit the layer with the river junctions, step 2: Activate the vertex tool." width="50%" />
<p class="caption">
Figure 5.12: Manually edit the layer with the river junctions, step 2: Activate the vertex tool.
</p>
</div>
<p>Right-click on a junction point you would like to delete to activate it (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-3">5.13</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-3"></span>
<img src="_bookdown_files/FIG_DATA/fig028_ManualEditJunctions3.png" alt="Manually edit the layer with the river junctions, step 3: Activate a junction node for editing." width="50%" />
<p class="caption">
Figure 5.13: Manually edit the layer with the river junctions, step 3: Activate a junction node for editing.
</p>
</div>
<p>Select the activated point by drawing a rectangle over the point with your mouse. The point will appear blue (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-4">5.14</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-4"></span>
<img src="_bookdown_files/FIG_DATA/fig029_ManualEditJunctions4.png" alt="Manually edit the layer with the river junctions, step 3: Select the activated junction node." width="50%" />
<p class="caption">
Figure 5.14: Manually edit the layer with the river junctions, step 3: Select the activated junction node.
</p>
</div>
<p>Delete the point with the delete key on your keyboard. You can save your edits by pressing the blue-white Save Layer Edits button that is decorated with an orange pen (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-5">5.15</a>). This saves your changes without exiting the edit mode.</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-5"></span>
<img src="_bookdown_files/FIG_DATA/fig030_ManualEditJunctions5.png" alt="Manually edit the layer with the river junctions, step 3: Save edits." width="20%" />
<p class="caption">
Figure 5.15: Manually edit the layer with the river junctions, step 3: Save edits.
</p>
</div>
<p>If you have many points to remove, as in our case, it may be faster to identify the IDs of the features you want to keep, select these and delete all others. To start, you activate the <em>Identify Features</em> mode by clicking on the icon with the white <em>i</em> on the blue circle (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-1">5.16</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-1"></span>
<img src="_bookdown_files/FIG_DATA/fig031_ManualEditJunctionsFast1.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 1." width="20%" />
<p class="caption">
Figure 5.16: Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 1.
</p>
</div>
<p>A black <em>i</em> will appear next to your cursor. You then click on the first of your nodes that you want to keep. This will highlight it in red and a list with information on the selected feature appears on the right in the Identify Results window. You will see the attribute NODE_ID with value 1 for the outflow node (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-2">5.17</a>). Note down the ID of the feature.</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-2"></span>
<img src="_bookdown_files/FIG_DATA/fig032_ManualEditJunctionsFast2.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 2." width="100%" />
<p class="caption">
Figure 5.17: Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 2.
</p>
</div>
<p>You then press on the node at the confluence of the two tributaries in the center of the catchment. The Identify Results window shows 2 results, that means, that two junction nodes are close to each other (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-3">5.18</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-3"></span>
<img src="_bookdown_files/FIG_DATA/fig033_ManualEditJunctionsFast3.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 3." width="80%" />
<p class="caption">
Figure 5.18: Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 3.
</p>
</div>
<p>Zoom in in your map window with your mouse to see the two nodes (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-4">5.19</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-4"></span>
<img src="_bookdown_files/FIG_DATA/fig034_ManualEditJunctionsFast4.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 4." width="80%" />
<p class="caption">
Figure 5.19: Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 4.
</p>
</div>
<p>Select the node that should be kept and not the ID of the node (NODE_ID 11), (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-5">5.20</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-5"></span>
<img src="_bookdown_files/FIG_DATA/fig035_ManualEditJunctionsFast5.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 5." width="80%" />
<p class="caption">
Figure 5.20: Alternative method to manually edit junctions if many nodes need to be deleted. Step 1: Get ID of features to keep, part 5.
</p>
</div>
<p>Zoom back to the entire Junctions layer (see <a href="#fig:qgis-zoom-to-layer"><strong>??</strong></a>). and go to Select Features by Values… in the toolbar (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-6">5.21</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-6"></span>
<img src="_bookdown_files/FIG_DATA/fig036_ManualEditJunctionsFast6.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 1" width="40%" />
<p class="caption">
Figure 5.21: Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 1
</p>
</div>
<p>Add NODE_ID 1 to your selection as demonstrated in (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-7">5.22</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-7"></span>
<img src="_bookdown_files/FIG_DATA/fig037_ManualEditJunctionsFast7.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 2" width="60%" />
<p class="caption">
Figure 5.22: Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 2
</p>
</div>
<p>The outflow node with ID 1 will change color in your map (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-8">5.23</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-8"></span>
<img src="_bookdown_files/FIG_DATA/fig038_ManualEditJunctionsFast8.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 3" width="20%" />
<p class="caption">
Figure 5.23: Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 3
</p>
</div>
<p>Add node 11 to your selection in the same way and close the Select Node by Value window. Invert the feature selection as shown in (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-9">5.24</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-9"></span>
<img src="_bookdown_files/FIG_DATA/fig039_ManualEditJunctionsFast9.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 4" width="80%" />
<p class="caption">
Figure 5.24: Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 4
</p>
</div>
<p>All other nodes will now be yellow and the ones to keep will appear in the layer color (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-10">5.25</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-10"></span>
<img src="_bookdown_files/FIG_DATA/fig040_ManualEditJunctionsFast10.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 5" width="80%" />
<p class="caption">
Figure 5.25: Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 5
</p>
</div>
<p>Delete the features (nodes) by pressing the Delete Selected button in the edit features toolbar (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-fast-11">5.26</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-fast-11"></span>
<img src="_bookdown_files/FIG_DATA/fig041_ManualEditJunctionsFast11.png" alt="Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 6" width="40%" />
<p class="caption">
Figure 5.26: Alternative method to manually edit junctions if many nodes need to be deleted. Step 2: Select features to delete, part 6
</p>
</div>
<p>Save your edits (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-5">5.15</a>). To verify that, indeed, all superfluous nodes are deleted from the Junctions file, open the Attribute table (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-at-1">5.27</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-at-1"></span>
<img src="_bookdown_files/FIG_DATA/fig042_EditJunctionsAttributeTable1.png" alt="Edit Attribute table. Step 1: Open the attribute table with a click on the Attribute Table icon in the QGIS toolbar." width="5%" />
<p class="caption">
Figure 5.27: Edit Attribute table. Step 1: Open the attribute table with a click on the Attribute Table icon in the QGIS toolbar.
</p>
</div>
<p>Only 2 features should be listed under each attribute. We will now edit the attribute table to prepare it for the RS Minerve model (see <a href="#fig:layers-minerve"><strong>??</strong></a>). RS Minerve needs an identifyer to differentiate between the junctions. We can use the attribute <em>TYPE</em> to uniquely identify the two junctions needed. RS Minerve further needs the ID of the downstream river. Add a collumn to the attribute table by pressing the Add Field button (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-at-2">5.28</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-at-2"></span>
<img src="_bookdown_files/FIG_DATA/fig043_EditJunctionsAttributeTable2.png" alt="Edit Attribute table. Step 2: Add a column to the attribute table manually, part 1." width="60%" />
<p class="caption">
Figure 5.28: Edit Attribute table. Step 2: Add a column to the attribute table manually, part 1.
</p>
</div>
<p>Define a name for the attribute, a type and admissible length of each entry in the Add Field window. In our case, we choose a string (a word) as ID and allow it to be 20 characters long (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-at-3">5.29</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-at-3"></span>
<img src="_bookdown_files/FIG_DATA/fig044_EditJunctionsAttributeTable3.png" alt="Edit Attribute table. Step 2: Add a column to the attribute table manually, part 2." width="30%" />
<p class="caption">
Figure 5.29: Edit Attribute table. Step 2: Add a column to the attribute table manually, part 2.
</p>
</div>
<p>Close the window by pressing OK. By clicking in the newly created NULL fields, you can now type names for the downstream rivers and save your edits by pressing the save edits icon (3rd from the left in the toolbar of the attribute table window). As the outlet of the catchment goes directly into Charvak reservoir, we can type Charvak as the downstream river ID. The river stretch between junction and outlet is called Pskem (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-at-4">5.30</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-at-4"></span>
<img src="_bookdown_files/FIG_DATA/fig045_EditJunctionsAttributeTable4.png" alt="Edit Attribute table. Step 2: Add a column to the attribute table manually, part 3." width="60%" />
<p class="caption">
Figure 5.30: Edit Attribute table. Step 2: Add a column to the attribute table manually, part 3.
</p>
</div>
<p>We are done editing the Junctions layer. Deactivate the edit mode by clickig on the yellow pen in the attribute table window (<a href="Data-GeospatialData.html#fig:qgis-edit-junctions-at-5">5.31</a>) and close the window.</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-edit-junctions-at-5"></span>
<img src="_bookdown_files/FIG_DATA/fig046_EditJunctionsAttributeTable5.png" alt="Save your edits." width="60%" />
<p class="caption">
Figure 5.31: Save your edits.
</p>
</div>
<p>Now save the Junctions layer in an appropriate place on your drive and save your project.</p>
</div>
<div id="edit-channels-layer" class="section level4" number="5.2.5.2">
<h4><span class="header-section-number">5.2.5.2</span> Edit Channels layer</h4>
<p>Proceed in the same way as for the junctions: Delete channel sections that are not needed in the Minerve model.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Data-StationData.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Data-ClimateReanalysisData.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/07_DATA.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["applied-hydrological-modeling-central-asia.pdf", "applied-hydrological-modeling-central-asia.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
